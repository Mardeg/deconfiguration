<!DOCTYPE html>
<html lang="en">
<!-- Licensed under the Academic Free License version 3.0
	- Any copyright dedicated to the public domain -->
	<head vocab="https://schema.org/DigitalDocument">
		<link rel="license nofollow schema:license" href="https://spdx.org/licenses/AFL-3.0">
		<link rel="license nofollow schema:license" href="https://creativecommons.org/publicdomain/zero/1.0/">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Content-Security-Policy" content="base-uri 'self'; form-action 'none'; object-src 'none'; media-src 'self' data:; img-src 'self' data:; child-src blob: https://web.archive.org; style-src 'self' 'unsafe-inline'; connect-src 'self' blob: data:">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title property="headline">Cisco Catalyst 4500-X</title>
		<meta name="description" content="How to factory reset instructions tutorial guide">
		<link rel="icon" href="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48dGV4dCB5PSIuOWVtIiBmb250LXNpemU9IjkwIj7wn5K7PC90ZXh0Pjwvc3ZnPg==">
    <style>
    :root,h1 {background-color:#CCC}
    :root {
      color:#000;
      background-image:url("data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSI0MDAiIHdpZHRoPSI1MjUiPg0KPGZvcmVpZ25PYmplY3QgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSIgeD0iLTI0IiB5PSItMzciIHJlcXVpcmVkRXh0ZW5zaW9ucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+DQo8Ym9keSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9InBhZGRpbmc6MWVtIj4NCjxwcmUgc3R5bGU9ImNvbG9yOmRhcmtncmVlbjtvcGFjaXR5OjAuMTt3aWR0aDpmaXQtY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIw0KICAgICAgICAgICAgICAgICAgICMjIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjDQogICAgICAgICAgICAgICAgICAgIyMjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMNCiAgICAgICAgICAgICAgICAgICAjIyMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIw0KICAgICAgICAgICAgIyAgICAgICMjIyAgICAgICMgICAgICAgICAgICAgICAjICAgICAgIyMjICAgICAgIw0KICAgICAgICAgICAjIyMgICAgICMjIyAgICAgIyMjICAgICAgICAgICAgICMjIyAgICAgIyMjICAgICAjIyMNCiAgICAjICAgICAgIyMjICAgICAjIyMgICAgICMjIyAgICAgICMgICAgICAjIyMgICAgICMjIyAgICAgIyMjICAgICAgIw0KICAgIyMjICAgICAjIyMgICAgICMjIyAgICAgIyMjICAgICAjIyMgICAgICMjIyAgICAgIyMjICAgICAjIyMgICAgICMjIyAgDQogICAjIyMgICAgICMjIyAgICAgIyMjICAgICAjIyMgICAgICMjIyAgICAgIyMjICAgICAjIyMgICAgICMjIyAgICAgIyMjICANCiAgICMjIyAgICAgIyMjICAgICAjIyMgICAgICMjIyAgICAgIyMjICAgICAjIyMgICAgICMjIyAgICAgIyMjICAgICAjIyMgIA0KICAgICMgICAgICAgIyAgICAgICMjIyAgICAgICMgICAgICAgIyAgICAgICAjICAgICAgIyMjICAgICAgIyAgICAgICAjDQogICAgICAgICAgICAgICAgICAgIyMjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMNCiAgICAgICAgICAgICAgICAgICAjIyMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIw0KICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMNCg0KDQogICAgICAgICAgICAjIyMjIyMjICAgIyMjICAgICMjIyMjIyMgICAgICAgIyMjIyMjIyAgICAgICMjIyMjDQogICAgICAgICAgIyMjIyMjIyMjICAgIyMjICAgIyMjICAgICMjICAgICMjIyMjIyMjIyAgICAjIyMjIyMjIyMNCiAgICAgICAgICMjIyAgICAgICAgICAjIyMgICAgIyMjIyAgICAgICAjIyMgICAgICAgICAgIyMjICAgICAjIyMNCiAgICAgICAgICMjIyAgICAgICAgICAjIyMgICAgICAjIyMgICAgICAjIyMgICAgICAgICAgIyMjICAgICAjIyMNCiAgICAgICAgICMjIyAgICAgICAgICAjIyMgICAgICAgIyMjIyAgICAjIyMgICAgICAgICAgIyMjICAgICAjIyMNCiAgICAgICAgICAjIyMjIyMjIyMgICAjIyMgICAjIyAgICAjIyMgICAgIyMjIyMjIyMjICAgICMjIyMjIyMjIw0KICAgICAgICAgICAgIyMjIyMjIyAgICMjIyAgICAjIyMjIyMjICAgICAgICMjIyMjIyMgICAgICAjIyMjIw0KDQo8L3ByZT48L2JvZHk+PC9mb3JlaWduT2JqZWN0Pjwvc3ZnPg==");
      background-repeat:no-repeat;
      background-size:105vw 110vh;
      background-attachment:fixed;
    }
    h1 {position:sticky;top:0;width:fit-content;text-decoration:dashed underline #CCCCCC 8px;padding-right:0.2ex;z-index:1}
    ol > li {padding-bottom:1em}
    ol > li::marker {font-weight:bold}
    h2 {font-variant:small-caps;font-size:large;font-weight:normal;display:inline}
    blockquote,summary samp{background-color:rgba(0,0,0,0.75);color:#FFF}
    blockquote > samp {color:#FFF}
    blockquote {overflow-x:clip;overflow-clip-margin:9vw;padding-left:0.5ex;margin-top:0.5ex;white-space:pre}
    blockquote span {color:yellow}
    .image {background-color:unset;overflow-x:unset;display:flex;align-items:center;}
    img {width:404px}
    summary {list-style-image: url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyZXgiIGhlaWdodD0iMmV4Ij48c3R5bGU+DQovKiA8IVtDREFUQVsgKi8NCnN2Z3tiYWNrZ3JvdW5kLWltYWdlOnJhZGlhbC1ncmFkaWVudCh3aGl0ZSx3aGl0ZSxyZ2JhKDI1NSwyNTUsMjU1LDApLHJnYmEoMjU1LDI1NSwyNTUsMCkscmdiYSgyNTUsMjU1LDI1NSwwKSl9DQovKiBdXT4gKi8NCjwvc3R5bGU+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGRvbWluYW50LWJhc2VsaW5lPSJjZW50cmFsIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjJleCI+4piQPC90ZXh0Pg0KPHRleHQgeD0iNjUlIiB5PSIzMyUiIGRvbWluYW50LWJhc2VsaW5lPSJjZW50cmFsIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjIuNWV4IiBmaWxsPSIjMDA3NzAwIj7inJM8L3RleHQ+DQo8L3N2Zz4=")}
    summary:focus {list-style-image: unset;list-style-type: "\27A4\00A0\00A0";}
    li:focus-within > details:focus-within ~ details > summary,li:focus-within ~ li summary,ol:not(:focus-within) summary {list-style-image: url("data:image/svg+xml;charset=utf-8;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyZXgiIGhlaWdodD0iMmV4Ij48c3R5bGU+DQovKiA8IVtDREFUQVsgKi8NCnN2Z3tiYWNrZ3JvdW5kLWltYWdlOnJhZGlhbC1ncmFkaWVudCh3aGl0ZSx3aGl0ZSxyZ2JhKDI1NSwyNTUsMjU1LDApLHJnYmEoMjU1LDI1NSwyNTUsMCkscmdiYSgyNTUsMjU1LDI1NSwwKSl9DQovKiBdXT4gKi8NCjwvc3R5bGU+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGRvbWluYW50LWJhc2VsaW5lPSJjZW50cmFsIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjJleCI+4piQPC90ZXh0Pjwvc3ZnPg==");}
    summary[tabindex="0"][property$="t"]:hover {list-style-image: unset;list-style-type: "\25A0\00A0\00A0";}
    li:focus-within > h2 {filter:drop-shadow(0.09ex 0.09ex 0.12ex);text-decoration:white 1px underline;animation: 0.5s infinite alternate underpulse}
    details[open] > summary:active {pointer-events:none}
    summary:focus::marker,summary:hover::marker {animation: 0.5s infinite alternate pulsate}
    @keyframes pulsate {
      from {color:#008;}
      to {color:#FFF;}
    }
    @keyframes underpulse {
      from {text-decoration-style:solid;}
      25% {text-decoration-style:solid;}
      to {text-decoration-style:dotted;}
    }
    </style>
</head>
<body><main vocab="http://schema.org/" typeof="HowTo">
	<h1 property="name">Cisco Catalyst 4500-X</h1>
<ol>
  <li typeof="HowToSection" property="step"><h2 property="name">Start the console session.</h2>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text" autofocus>Plug in serial cable to console port of device from PC COM1 port</summary>
    </details>
    <details typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Open PuTTY and select "Serial" connection type, leave baud rate (Speed) and other settings as default.</summary>
    </details>
    <details typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Plug power into device and if a power button exists, turn it on.</summary>
    </details>
  </li>
  <li typeof="HowToSection" property="step"><h2 property="name">Access the pre-boot switch command line interface.</h2>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Press <em>Ctrl C</em> when prompted and before the countdown ends:</summary>
        <blockquote role="log" aria-label="example"><samp>
 ************************************************************
 *                                                          *
 * Welcome to Rom Monitor for    WS-C4500X-32 System.       *
 * Copyright (c) 2008-2014 by Cisco Systems, Inc.           *
 * All rights reserved.                                     *
 *                                                          *
 ************************************************************

 Rom Monitor (P) Version 15.0(1r)SG11
 CPU Rev: 2.2, Board Rev: 9, Board Type: 107
 CPLD Mobat Rev: 2.0x549a.0x59a4
 Chassis: WS-C4500X-32
 
 â€¦
 
 Non-Redundant system or peer not running IOS
 System Uplinks &amp; Linecards have been reset!!


 ***** The system will autoboot in 5 seconds *****


 Type control-C to prevent autobooting.
 . .
 Autoboot cancelled......... please wait!!!
rommon 1 > [interrupt]
        </samp></blockquote>
    </details>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Type the <em>set</em> command to see if the VS_SWITCH_NUMBER environment variable is listed:</summary>
        <blockquote role="log" aria-label="example"><samp>
rommon 1 ><span>set</span>
 PS1=rommon ! >
 RommonVer=15.0(1r)SG11
 SupportedFeatures=1
 Fa1Enable=1
 VS_SWITCH_NUMBER=2
 ConfigReg=0x2102
 ISSU_BOOTED_IMAGE=
 BOOT=bootflash:cat4500e-universalk9.SPA.03.11.09.E.152-7.E9.bin,12;bootflash:cat4500e-universalk9.SPA.03.11.07.E.152-7.E7.bin,12;
 BootedFileName=bootflash:cat4500e-universalk9.SPA.03.11.09.E.152-7.E9.bin
 EnableAutoConfig=1
 RET_2_RTS=21:45:34 DST Wed Jul 17 2024
 ConsecPostPassedCnt=23
 RET_2_RCALTS=
rommon 2 > [interrupt]
        </samp></blockquote>
    </details>
  </li>
  <li typeof="HowToSection" property="step"><h2 property="name">Disable Virtual mode and bypass configuration.</h2>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Type the <em>clear swnum</em> command:</summary>
        <blockquote role="log" aria-label="example"><samp>
rommon 3 ><span>clear swnum</span>
        </samp></blockquote>
    </details>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Type the <em>confreg</em> command and <em>y</em> to change the configuration:</summary>
        <blockquote role="log" aria-label="example"><samp>
rommon 4 ><span>confreg</span>

 Configuration Summary :
 => load rom after netboot fails
 => console baud: 9600
 => autoboot from: commands specified in 'BOOT' environment variable

 do you wish to change the configuration? y/n  [n]:  <span>y</span>
        </samp></blockquote>
    </details>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Type <em>n</em> for all options except <em>enable  "ignore system config info"?</em> for which you'll type <em>y</em>, then <em>y</em> when prompted to save the configuration, followed by the <em>reset</em> command:</summary>
        <blockquote role="log" aria-label="example"><samp>
  enable  "diagnostic mode"? y/n  [n]:  <span>n</span>
 enable  "use net in IP bcast address"? y/n  [n]:  <span>n</span>
 disable "load rom after netboot fails"? y/n  [n]:  <span>n</span>
 enable  "use all zero broadcast"? y/n  [n]:  <span>n</span>
 enable  "break/abort has effect"? y/n  [n]:  <span>n</span>
 enable  "ignore system config info"? y/n  [n]:  <span>y</span>

 change console baud rate? y/n  [n]:  <span>n</span>

 change the boot characteristics? y/n  [n]:  <span>n</span>

 Configuration Summary :
 => load rom after netboot fails
 => ignore system config info
 => console baud: 9600
 => autoboot from: commands specified in 'BOOT' environment variable

 do you wish to save this configuration? y/n  [n]:  <span>y</span>
 You must reset or power cycle for new configuration to take effect


rommon 5 ><span>reset</span>

Resetting .......
       </samp></blockquote>
    </details>
    <details typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" typeof="HowToTip" property="itemListElement"><span property="text">Allow the system to boot up, pressing <em>Enter</em> when prompted to "press RETURN" to get to the <samp>Switch></samp> prompt</span></summary>
    </details>
  </li>
  <li typeof="HowToSection" property="step"><h2 property="name">Delete configuration files and reboot.</h2>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Type the <em>enable</em> command, then the <em>dir</em> command:</summary>
        <blockquote role="log" aria-label="example"><samp>
Switch><span>enable</span>
Switch#<span>dir</span>
Directory of bootflash:/

31682  drwx        4096  Jan 11 2016 21:52:40 +00:00  virtual-instance
31684  drwx        4096  Jan 11 2016 21:52:40 +00:00  virtual-instance-stby-sync
31686  drwx        4096  Aug 20 2024 02:43:25 +00:00  pxe
31694  drwx        4096  Jul 18 2024 01:54:09 +00:00  pnp-info
31687  -rw-        2765  Feb 10 2016 09:01:02 +00:00  startup-config.converted_vs-20160210-090102
31688  drwx        4096  Feb 10 2016 18:39:49 +00:00  onep
31691  -rw-       21863  Jun 27 2019 18:34:59 +00:00  config_June27.conf
31690  -rw-   200973604  Mar 21 2023 01:52:43 +00:00  cat4500e-universalk9.SPA.03.11.07.E.152-7.E7.bin
31695  -rw-   201024628  Feb 23 2024 01:01:29 +00:00  cat4500e-universalk9.SPA.03.11.09.E.152-7.E9.bin
142561  drwx        4096   Mar 8 2021 19:07:05 +00:00  scripts

1659666432 bytes total (1257054208 bytes free)
        </samp></blockquote>
    </details>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Type the <em>del *config*</em> command, confirming with <em>y</em> to delete all matching files, then the <em>show vlans</em> command to ensure no vlans exist:</summary>
        <blockquote role="log" aria-label="example"><samp>
Switch#<span>del *config*</span>
Delete filename [*config*]?
Delete bootflash:/startup-config.converted_vs-20160210-090102? [confirm]<span>y</span>
Delete bootflash:/config_June27.conf? [confirm]<span>y</span>
Switch#<span>show vlans</span>

No Virtual LANs configured.
        </samp></blockquote>
    </details>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Type the <em>erase startup-config</em> command, confirming with <em>y</em>, followed by the <em>show license all</em> and <em>reload</em> commands, confirming with <em>y</em> again:</summary>
        <blockquote role="log" aria-label="example"><samp>
Switch#<span>erase startup-config</span>
Erasing the nvram filesystem will remove all configuration files! Continue? [confirm]<span>y</span>[OK]
Erase of nvram: complete
Switch#
*Aug 20 02:50:35.227: %SYS-7-NV_BLOCK_INIT: Initialized the geometry of nvram
Switch#<span>show license all</span>
License Store: Primary License Storage
StoreIndex: 0 Feature: entservices  Version: 1.0
      License Type: Permanent
      License State: Active, In Use
      License Count: Non-Counted
      License Priority: Medium
License Store: Dynamic License Storage
License Store: Primary License Storage
License Store: Dynamic License Storage
StoreIndex: 0 Feature: entservices  Version: 1.0
      License Type: Evaluation
        Evaluation total period: 8 weeks 4 days
        Evaluation period left: 8 weeks 4 days
      License State: Inactive
      License Count: Non-Counted
      License Priority: None
StoreIndex: 1 Feature: entservices  Version: 1.0
      License Type: PermanentRightToUse
      License State: Inactive
      License Count: Non-Counted
StoreIndex: 2 Feature: ipbase  Version: 1.0
      License Type: Evaluation
        Evaluation total period: 8 weeks 4 days
        Evaluation period left: 8 weeks 4 days
      License State: Active, Not in Use, EULA not accepted
      License Count: Non-Counted
      License Priority: None
StoreIndex: 3 Feature: ipbase  Version: 1.0
      License Type: PermanentRightToUse
      License State: Inactive
      License Count: Non-Counted
StoreIndex: 4 Feature: lanbase  Version: 1.0
      License Type: PermanentRightToUse
      License State: Active, Not in Use, EULA not accepted
      License Count: Non-Counted
StoreIndex: 5 Feature: dna-essentials  Version: 1.0
      License Type: Subscription
      License State: Not Activated
      License Count: Non-Counted
StoreIndex: 6 Feature: dna-advantage  Version: 1.0
      License Type: Subscription
      License State: Not Activated
      License Count: Non-Counted

Switch#<span>reload</span>

          System configuration has been modified. Save? [yes/no]: <span>no</span>
Proceed with reload? [confirm]<span>y</span>
*Aug 20 02:51:03.416: %SYS-5-RELOAD: Reload requested by console. Reload Reason: Reload command.
*Aug 20 02:51:03.798: %IOSXE-3-PLATFORM: 1 process sysmgr: Reset/Reload requested by [console].
&lt;Tue Aug 20 02:51:03 2024> Message from sysmgr: Reason Code:[3] Reset Reason:Reset/Reload requested by [console]. [Reload command]
umount: /proc/fs/nfsd: not mounted
/etc/rc6.d/S01reboot: line 211: umount_cisco_filesystems: command not found
Please stand by while rebooting the system...
[  580.280545] Restarting system.
        </samp></blockquote>
    </details>
  </li>
  <li typeof="HowToSection" property="step"><h2 property="name">Unignore configuration.</h2>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Repeat step 3, this time typing <em>y</em> when prompted to <em>disable "ignore system config info"?</em>:</summary>
        <blockquote role="log" aria-label="example"><samp>
 ***** The system will autoboot in 5 seconds *****


 Type control-C to prevent autobooting.
 . . . .
 Autoboot cancelled......... please wait!!!
rommon 1 > [interrupt]

rommon 1 ><span>confreg</span>

 Configuration Summary :
 => load rom after netboot fails
 => ignore system config info
 => console baud: 9600
 => autoboot from: commands specified in 'BOOT' environment variable

 do you wish to change the configuration? y/n  [n]:  <span>y</span>
 enable  "diagnostic mode"? y/n  [n]:  <span>n</span>
 enable  "use net in IP bcast address"? y/n  [n]:  <span>n</span>
 disable "load rom after netboot fails"? y/n  [n]:  <span>n</span>
 enable  "use all zero broadcast"? y/n  [n]:  <span>n</span>
 enable  "break/abort has effect"? y/n  [n]:  <span>n</span>
 disable "ignore system config info"? y/n  [n]:  <span>y</span>

 change console baud rate? y/n  [n]:  <span>n</span>

 change the boot characteristics? y/n  [n]: <span> n</span>

 Configuration Summary :
 => load rom after netboot fails
 => console baud: 9600
 => autoboot from: commands specified in 'BOOT' environment variable

 do you wish to save this configuration? y/n  [n]:  <span>y</span>
 You must reset or power cycle for new configuration to take effect


rommon 2 ><span>reset</span>

Resetting .......
        </samp></blockquote>
    </details>
  </li>
  <li typeof="HowToSection" property="step"><h2 property="name">Copy all the output from the session into your records.</h2>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Right-click PuTTY's titlebar, from that dropdown menu click on "Copy All to Clipboard"</summary>
    </details>
    <details typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Open the file of record certifying the deconfiguration of this device and use <em>CTRL V</em> to paste all the output from PuTTY into that file. Formatting the text with a fixed-width font helps it look more readable.</summary>
    </details>
  </li>
  <li typeof="HowToSection" property="step"><h2 property="name">End the session.</h2>
    <details open aria-expanded="true" typeof="HowToStep" property="itemListElement">
      <summary tabindex="0" property="text">Close PuTTy.</summary>
    </details>
  </li>
</ol>
</main></body></html>
